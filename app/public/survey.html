<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Friend Finder</title>

  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <style>
  body {background-color: #A393EB;}
  .jumbotron {background-color: #A393EB;}
  .jumbotron {color: #27296D;}
  /*.btn {background-color: #27296D;}*/
  .foot {text-color: #FFFFFF;}
  .modal-body {color:blue;}
  </style>
</head>
<body>

  <div class="container">

    <div class="jumbotron">
      <h1 class="text-center"><span class="glyphicon glyphicon-fire"></span> Friend Finder</h1>
      <hr>
      <h2 class="text-center">Survey Questions</h2>
      <br>

      <div class="text-center">
        <a href="home.html"><button type="button" class="btn btn-lg btn-default"><span class="glyphicon glyphicon-home"></span></button></a>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-12">

        <!-- Question Page -->
        <div class="panel panel-default">
          <div class="panel-heading">
            <h4 class="panel-title">Tell us about yourself</h4>
          </div>
          <div class="panel-body">

            <form role="form">

              <div class="form-group">
                <label for="user-name">Name (Required)</label>
                <input type="text" class="form-control" id="user-name">
              </div>

              <div class="form-groupq">
                <label for="pic-url">Link to Photo Image (Required)</label>
                <input type="text" class="form-control" id="pic-url">
              </div>
              <p><br /><br />
                Question 1
              </p>
              <p><br />
                Your mind is always buzzing with unexplored ideas and plans.<br />
              </p>
              <select data-placeholder="" class="chosen-select" id="q1">

	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
              <p><br /><br />
                Question 2
              </p>
              <p>
                <br />
              Generally speaking, you rely more on your experience than your imagination.<br />
              </p>
              <select data-placeholder="" class="chosen-select" id="q2">
              <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

              <p><br /><br />
                Question 3
              </p>
              <p><br />
                You find it easy to stay relaxed and focused even when there is some pressure.<br />
              </p>
              <select data-placeholder="" class="chosen-select" id="q3">
              <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

              <p><br /><br />
                Question 4
              </p>
              <p><br />
                You rarely do something just out of sheer curiosity.<br />
              </p>
              <select data-placeholder="" class="chosen-select" id="q4">
              <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

              <p><br /><br />
                Question 5
              </p>
              <p><br />
              People can rarely upset you.<br />
              </p>
              <select data-placeholder="" class="chosen-select" id="q5">
              <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

              <p><br /><br />
                Question 6
              </p>
              <p><br />
              It is often difficult for you to relate to other people’s feelings.<br />
              </p>
              <select data-placeholder="" class="chosen-select" id="q6">
              <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
              <p><br /><br />
                Question 7
              </p>
              <p><br />
                In a discussion, truth should be more important than people’s sensitivities.<br />
              </p>
              <select data-placeholder="" class="chosen-select" id="q7">
              <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
              <p><br /><br />
                Question 8
              </p>
              <p><br />
                You rarely get carried away by fantasies and ideas.<br />
              </p>
              <select data-placeholder="" class="chosen-select" id="q8">
              <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
              <p><br /><br />
                Question 9
              </p>
              <p><br />
                You think that everyone’s views should be respected regardless of whether they are supported by facts or not.<br />
              </p>
              <select data-placeholder="" class="chosen-select" id="q9">
              <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
              <p><br /><br />
                Question 10
              </p>
              <p><br />
                You feel more energetic after spending time with a group of people.<br />
              </p>
              <select data-placeholder="" class="chosen-select" id="q10">
              <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

              <br /><br /><button type="submit" class="btn btn-primary submit">Submit</button>
            </form>

          </div>
        </div>

      </div>
    </div>


    <footer class="footer">
      <div class="container">
        <p><a href="/api/tables">API Table Link</a> | <a href="/api/waitlist">API Wait List</a> | <a href="#">GitHub Repo</a></p>
      </div>
    </footer>

  </div>
  <div class="modal-content">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">&times;</button>
    <h2 class="modal-title"><strong>Best Match</strong></h2>
  </div>
  <div class="modal-body">
    <h2 id="matchName"></h2>
    <img id="matchImg" src="https://media.licdn.com/mpr/mpr/shrinknp_400_400/p/6/005/064/1bd/3435aa3.jpg" alt="">
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
  </div>
</div>

</div>
</div>

</body>
</html>
<script type="text/javascript">

$(".submit").on("click", function(event){
  event.preventDefault();
  function validateForm() {
    var isValid = true;
    $('.form-control').each(function() {
      if ( $(this).val() === '' )
          isValid = false;
    });

    $('.chosen-select').each(function() {

      if( $(this).val() === "")
        isValid = false
    })
    return isValid;
  }

  // If all required fields are filled
  if (validateForm() == true)
  {
    // Create an object for the user's data
      var userData = {
        name: $("#user-name").val(),
        photo: $("pic-url").val(),
        scores: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(), $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val(), ]
      }


      // Grab the URL of the website
      var currentURL = window.location.origin;

      // AJAX post the data to the friends API.
      $.post(currentURL + "/api/friends", userData, function(data){

        // Grab the result from the AJAX post so that the best match's name and photo are displayed.
        $("#matchName").text(data.name);
        $('#matchImg').attr("src", data.photo);

        // Show the modal with the best match
        $("#resultsModal").modal('toggle');

      });
  }
  else
  {
    alert("Please fill out all fields before submitting!");
  }

    return false;
  });
//   alert("got info");
//   var newUser = {
//     userName: $('#user-name').val().trim(),
//     userpic: $('#pic-url').val().trim(),
//     answers: []
// };
//   if (newUser.userName === ""){
//     alert("Please provide your name");
//   }
//   if (newUser.userpic === ""){
//     alert("Please provide your picture url");
//   }
//
//   for (var i = 0; i < 10; i++){
//     plainAnswers = parseInt($(`#q${i}`).val());
//     newUser.answers.push(plainAnswers);
//     console.log(plainAnswers);
//
//     if (isNaN(plainAnswers)) {
//             alert(3 + i, "Please answer this question.");
//
//   }
//
// }
// });
</script>
